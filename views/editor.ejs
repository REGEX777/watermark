<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Watermark Positioning</title>
    <link rel="stylesheet" href="/css/output.css">
</head>
<body class="bg-gray-900 flex items-center justify-center min-h-screen">
    <div class="bg-gray-800 p-8 rounded-lg shadow-lg w-full max-w-5xl">
        <div class="flex justify-center mb-6">
            <div class="relative">
                <img src="/uploads/<%= regularImage %>" alt="Regular Image" id="regularImage"
                    class="w-[600px] h-auto object-contain border-2 border-gray-600">
                <img src="/uploads/<%= watermarkImage %>" alt="Watermark" id="watermarkImage"
                    class="absolute w-[150px] h-auto opacity-75 border-2 border-gray-600">
            </div>
        </div>
        <form action="/editor/export" method="post" class="space-y-4">
            <input type="hidden" name="regularImage" value="<%= regularImage %>">
            <input type="hidden" name="watermarkImage" value="<%= watermarkImage %>">
            <input type="hidden" name="position" id="watermarkPosition">
            <div class="grid grid-cols-2 gap-4 mb-6">
                <button type="button" data-position="top-left" class="position-button bg-indigo-600 text-white py-3 px-5 rounded-md shadow-sm hover:bg-indigo-700">
                    Top Left
                </button>
                <button type="button" data-position="top-right" class="position-button bg-indigo-600 text-white py-3 px-5 rounded-md shadow-sm hover:bg-indigo-700">
                    Top Right
                </button>
                <button type="button" data-position="bottom-left" class="position-button bg-indigo-600 text-white py-3 px-5 rounded-md shadow-sm hover:bg-indigo-700">
                    Bottom Left
                </button>
                <button type="button" data-position="bottom-right" class="position-button bg-indigo-600 text-white py-3 px-5 rounded-md shadow-sm hover:bg-indigo-700">
                    Bottom Right
                </button>
            </div>
            <div class="flex justify-center">
                <button type="submit" class="bg-green-600 text-white py-3 px-6 rounded-md shadow-sm hover:bg-green-700">
                    Export Image
                </button>
            </div>
        </form>
    </div>
    <script>
        const watermarkImage = document.getElementById('watermarkImage');
        const watermarkPosition = document.getElementById('watermarkPosition');
        const positionButtons = document.querySelectorAll('.position-button');

        positionButtons.forEach(button => {
            button.addEventListener('click', () => {
                const position = button.getAttribute('data-position');
                watermarkPosition.value = position;

                watermarkImage.style.width = '150px';
                watermarkImage.style.height = 'auto';

                switch (position) {
                    case 'top-left':
                        watermarkImage.style.top = '0';
                        watermarkImage.style.left = '0';
                        break;
                    case 'top-right':
                        watermarkImage.style.top = '0';
                        watermarkImage.style.right = '0';
                        watermarkImage.style.left = 'auto';
                        break;
                    case 'bottom-left':
                        watermarkImage.style.bottom = '0';
                        watermarkImage.style.left = '0';
                        watermarkImage.style.top = 'auto';
                        break;
                    case 'bottom-right':
                        watermarkImage.style.bottom = '0';
                        watermarkImage.style.right = '0';
                        watermarkImage.style.top = 'auto';
                        watermarkImage.style.left = 'auto';
                        break;
                }
            });
        });
    </script>
</body>
</html>
